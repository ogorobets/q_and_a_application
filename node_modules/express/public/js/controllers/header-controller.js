'use strict';

module.exports = ['$scope', '$rootScope', '$cookies', 'Gravatar', 'Email', function($scope, $rootScope, $cookies, Gravatar, Email) {
    $scope.email = $cookies.get('email');
    $scope.imgUrl = $scope.email && Gravatar($scope.email);

    $rootScope.$on("EmailWasSet", function(event, email) {
        $scope.email = email;
        $scope.imgUrl = $scope.email && Gravatar($scope.email);
    });
}];